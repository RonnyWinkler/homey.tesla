<style>
    .preEntityDetails {
        font-size: 12px;
        color: inherit;
        border: initial;
        padding: initial;
        font-family: inherit;
        line-height: 1.3;
        user-select: text;
    }
</style>
<script type="application/javascript">

    Homey.setTitle(Homey.__("repair.charging_history.title"));
    
</script>

<div>
    <fieldset>
            <pre class="preChargingHistoryJson" id="chargingHistoryJson"></pre>
    </fieldset>
</div>

<script type="application/javascript">
    var chargingHistoryJson = document.getElementById('chargingHistoryJson');
    getChargingHistory();

    function getChargingHistory(){
        Homey.emit('get_charging_history').then(function (hist) {
            let string = JSON.stringify(hist, null, "  ");
            chargingHistoryJson.textContent = string;
        });
    }

</script>